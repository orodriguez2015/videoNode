<% include ../breadcrumbs/userEdit %>
    <div class="row-fluid">
        <!--Edit Main Content Area here-->
        <div class="span12" id="divMain">
            <h1>Edición de usuario</h1>
        </div>
    </div>

    <div class="row-fluid">
        <div class="span12" id="divMain" style="margin-left:0px;">
            <p>

                <form id="formEditUsuario" name="formEditUsuario" role="form" method="POST" action="" novalidate>

                    <input type="hidden" value="<%=usuario.id%>" name="idUsuario" id="idUsuario" />

                    <div class="form-group">
                        <label for="nombre"><b>Nombre *</b></label>
                        <input type="text" class="form-control" id="nombre" name="nombre" value="<%=usuario.nombre%>" placeholder="Nombre">
                    </div>

                    <div class="form-group">
                        <label for="apellido1"><b>Primer apellido *</b></label>
                        <input type="text" class="form-control" id="apellido1" name="apellido1" value="<%=usuario.apellido1%>" placeholder="Primer apellido">
                    </div>

                    <div class="form-group">
                        <label for="apellido2"><b>Segundo apellido *</b></label>
                        <input type="text" class="form-control" id="apellido2" name="apellido2" value="<%=usuario.apellido2%>" placeholder="Segundo apellido">
                    </div>

                    <div class="form-group">
                        <label for="email"><b>Email/Correo electrónico *</b></label>
                        <input type="text" class="form-control" id="email" name="email" value="<%=usuario.email%>" placeholder="Email/Correo electrónico">
                    </div>


                    <div class="form-group">
                        <label for="login"><b>Login *</b></label>
                        <input type="text" class="form-control" id="usuario" name="usuario" required placeholder="Login" value="<%=usuario.login%>">
                    </div>

                    <div class="form-group">
                        <label for="password"><b>Contraseña</b></label>
                        <input type="password" class="form-control" id="contrasena" name="contrasena" placeholder="Contraseña">
                    </div>

                    <button type="submit" class="btn btn-success">Grabar</button>
                    <a href="/users">
                        <button type="button" class="btn btn-danger">Cancelar</button>
                    </a>
                </form>

            </p>
        </div>
    </div>



    <script type="text/javascript" src="/javascripts/facade/user/UserFacade.js"></script>
    <script type="text/javascript" src="/javascripts/facade/validation/FormValidationFacade.js"></script>
    <script type="text/javascript" src="/javascripts/facade/validation/UserFormValidationFacade.js"></script>
    <script type="text/javascript" src="/javascripts/facade/validation/ValidatorEditionUser.js"></script>

    <script type="text/javascript">
        userFormValidationFacade.init({
            idForm: "formEditUsuario",
            rules: {
                nombre: {
                    required: true,
                    minlength: 2,
                    maxlength: 100
                },

                apellido1: {
                    required: true,
                    minlength: 2
                },

                apellido2: {
                    required: true,
                    minlength: 2
                },

                email: {
                    required: true,
                    email: true,
                    comprobarEmailOtroUsuario: {
                        idUsuario: "<%=usuario.id%>"
                    }
                },

                usuario: {
                    required: true,
                    minlength: 4,
                    comprobarLoginOtroUsuario: {
                        idUsuario: "<%=usuario.id%>"
                    }
                },

                contrasena: {
                    comprobarPassword: {}
                }
            }
        }, userFormValidationFacade.TYPE_EDITION);
    </script>